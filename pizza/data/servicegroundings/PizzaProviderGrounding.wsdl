<?xml version="1.0"?>
<definitions name="PizzaProviderCougaarGrounding">

targetNamespace="file://../../../pizza/data/servicegroundings/PizzaProviderCougaarGrounding.wsdl"
xmlns:tns="file://../../../pizza/data/servicegroundings/PizzaProviderCougaarGrounding.wsdl"
xmlns:cougaar="file://../../../pizza/data/servicegroundings/cougaar.wsdl"
xmlns="http://schemas.xmlsoap.org/wsdl/">

<message name="task">
  <part name="verb" type="xsd.string"/>
  <part name="itemDescription" type="xsd.string"/>
  <part name="quantity" type="xsd.decimal"/>
  <part name="customer" type="xsd.string"/>
</message>

<message name="allocationResult">
  <part name="result" type="xsd.boolean"/>
  <part name="confidence" type="xsd.decimal"/>
</message>

<portType name="CougaarAgentCommunicationsPortType">
  <operation name="orderPizza">
    <documentation>Transmit a Cougaar task directive</documentation>
    <input message="tns:task"/>
    <output message="tns:allocationResult"/>
  </operation>
</portType>

<binding name="PizzaProviderCougaarBinding"
type="tns:CougaarAgentCommunicationsPortType">
  <cougaar:binding xmlns:cougaar="file://../../../pizza/data/servicegroundings/cougaar.wsdl">style="task"</cougaar:binding>
    <operation name="orderPizza">
      <cougaar:operation name="orderPizza"/>
      <input>
        <cougaar:task>
          verb="task.getVerb()=org.cougaar.pizza.Constants.Verb.ORDER"
          itemDescription="task.getDirectObject.getItemIdentificationPG().getItemIdentification()"
	  quantity="task.getPreference(AspectType.QUANTITY).getScoringFunction().getBest().getAspectValue().getValue()"
          customer="task.getPrepositionalPhrase(org.cougaar.planning.Constants.Preposition.FOR).getIndirectObject()"
          package="org.cougaar.planning.ldm"
          className="Task"
        </cougaar:task>
      </input>
      <output>
        <cougaar:allocationResult>
          result="allocationResult.isSuccess()"
          confidence="allocationResult.getConfidenceRating()"
          package="org.cougaar.planning.ldm.plan"
          className="AllocationResult"
        </cougaar:allocationResult>
      </output>
    </operation>
</binding>          

</definitions>


